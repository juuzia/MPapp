{% macro fastq_uploader() -%}

    <div class="card border-dark">
        <div class="card-header bg-dark text-white text-center">
            FASTQ input
        </div>
        <div class="card-body">
            <p class="card-text">
                
            </p>
            <form method="post" enctype=multipart/form-data>
                <div class="form-group pt-2">
                    <label for="file1"><b>FASTQ file 1:</b></label>
                    <input type="file" name="file1" class="form-control-file" id="file1">
                    <hr>
                    <label for="file2"><b>FASTQ file 2:</b></label>
                    <input type="file" name="file2" class="form-control-file" id="file2">
                </div>
                <hr>
                <div class="justify-content-center text-center">
                    <button type="submit" class="btn btn-success" name="fastq_submit" id="fastq_submit" onclick="$('#loading').show();">Submit</button>
                </div>
            </form>
        </div>
    </div>

{%- endmacro %}

{% macro bam_uploader() -%}

    <div class="card border-dark">
        <div class="card-header bg-dark text-white text-center">
            BAM input
        </div>
        <div class="card-body">
            <p class="card-text">
   
            </p>
            <form method="post" enctype=multipart/form-data>
                <div class="form-group pt-2">
                    <label for="bam"><b>BAM file:</b></label>
                    <input type="file" name="bam" class="form-control-file" id="bam">
                </div>
                <hr>
                <div class="justify-content-center text-center">
                    <button type="submit" class="btn btn-success" name="bam_submit" id="bam_submit">Submit</button>
                </div>
            </form>
        </div>
    </div>

{%- endmacro %}

{% macro result_retriever() -%}

    <div class="card border-dark">
        <div class="card-header bg-dark text-white text-center">
            Retrieve results
        </div>
        <div class="card-body">
            <p class="card-text">
                Find your results by entering you unique <b>Result ID</b> directly into
                the search box below.
            </p>
            <form method="post" enctype=multipart/form-data>
                <div class="row justify-content-center text-center">                
                    <div class="form-group mb-0">
                        <input type="text" name="result_id" class="form-control" placeholder="Result ID">
                    </div>
                </div>

                <hr>
                <div class="justify-content-center text-center">
                    <button type="submit" id="result_submit" name="result_submit", class="btn btn-success">Submit</button>
                </div>
            </form>
        </div>
    </div>

{%- endmacro %}

{% macro description() -%}

<div class="card border-dark">
    <div class="card-header bg-dark text-white text-center">
        File input
    </div>
    <div class="card-body">
        <p class="card-text">
            You can upload two (forward and reverse) fastq files or one bam file. Allowed extensions (<b>.fastq, fastq.gz, fq, fq.gz, bam</b>).
            When you upload your data, the run will be be assigned a unique <b>Result ID</b>. Please take a note of ID once it appears as it is required to
            find your results later.
        </p>
    </div>
</div>
{%- endmacro %}



{% macro generic_table(rows,columns,name) -%}


	{% set rand_id = range(1, 5000) | random %}
	<div class="card border-dark shadow">
		<div class="card-header text-center bg-dark text-white">
		  	{{name}}
		</div>
		<div class="card-body">
			<table class="table table-hover" id="table-{{rand_id}}">
				<thead>
					<tr>
						{% for key in columns %}
							<th scope="col">{{ columns[key] }}</th>
						{% endfor %}
					</tr>
				</thead>
				<tbody id="resultsTable">
					{% for row in rows %}
						{% for key in columns %}
							<td>
    							{{ row[key]|safe }}
							</td>
						{% endfor %}
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>



{%- endmacro %}