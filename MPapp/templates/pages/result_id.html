{% extends "base.html" %}
{% block header %}
{% endblock %}
{% block content %}
{% if status == "OK" %}
  <div class="row justify-content-center text-center">
    <div class="col-md-6">
        <h4>Result ID: {{run_id}}</h4>
        <form method="get" action="{{ url_for('main.download', run_id=run_id) }}">
        <button type="submit" class="btn btn-success" name="result_download" id="result_download"><i class="fa fa-download"></i> Download</button>
        </form>
        <hr>  
    </div>
  </div class="row justify-content-center text-center">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <pre>{{results}}</pre>
    </div>
  </div>
{% elif status == "Processing" %}
  <div class="row justify-content-center">
    <div class="loader"></div>
  </div>
  <div class="row justify-content-center">
    <h4 id="resultid">{{run_id}}</h4>
    <script>
     function copyToClipboard(element) {
        var $temp = $("<input>");
        $("body").append($temp);
        $temp.val($(element).text()).select();
        document.execCommand("copy");
        $temp.remove();
      }
    </script>    
  </div>
  <div class="row justify-content-center">     
    <button class="btn btn-outline-secondary" onclick="copyToClipboard('#resultid')">Copy Result ID</button>
  </div>
  <script>
    setTimeout(function(){
        window.location.reload(1);
    }, 5000);
  </script>

{% endif %}
{% endblock %}